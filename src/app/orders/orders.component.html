<h1>Order List</h1>

<div class="content">
    <mat-paginator #paginator [length]="orderList.length" [pageIndex]="0" [pageSize]="10">
    </mat-paginator>

    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z2">

        <ng-container matColumnDef="{{ title }}" *ngFor="let title of displayedColumns">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ title | uppercase}}</th>
            <td mat-cell *matCellDef="let element; let idx = index">

                <div [ngSwitch]="title">

                    <span *ngSwitchCase="'No'">
                        {{ idx + 1 + (this.paginator.pageIndex*10) }}
                    </span>

                    <span *ngSwitchCase="'name'">
                        {{ element[title] }}
                    </span>

                    <span *ngSwitchCase="'address'">
                        {{ element[title] }}
                    </span>

                    <span *ngSwitchCase="'contaction'">
                        <div *ngFor="let num of element.contaction">
                            <span>{{ num.type }}：{{ num.numbers }}</span>
                        </div>
                    </span>

                    <span *ngSwitchCase="'cartList'">
                        <div *ngFor="let list of element.cartList" class="cart-item">
                            <span>{{ list.name }}</span>
                            <span>{{ list.price | currency}}</span>
                        </div>
                    </span>

                    <span *ngSwitchCase="'dateTime'">
                        {{ element[title] | date: 'yyyy/MM/dd:HH:mm:ss'}}
                    </span>

                </div>

            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>



<!--
<div>
    <mat-paginator #paginator [length]="orderList.length" [pageIndex]="0" [pageSize]="10"></mat-paginator>
    <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="{{ title }}" *ngFor="let title of displayedColumns">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ title }}</th>
            <td mat-cell *matCellDef="let element">
                <div *ngTemplateOutlet="tpl; context:{ cell: element, tit: title }"></div>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>


<ng-template #tpl let-cell="cell" let-tit="tit">
    <div *ngIf="tit !== 'cartList' && tit !== 'contaction'">
        {{ cell[tit] }}
    </div>
    <div *ngIf="tit == 'cartList' ">
        <div *ngFor="let list of cell.cartList" class="cart-item">
            <span>{{ list.name }}</span>
            <span>{{ list.price | currency}}</span>
        </div>
    </div>
    <div *ngIf="tit == 'contaction' ">
        <div *ngFor="let num of cell.contaction">
            <span>{{ num.type }}：{{ num.numbers }}</span>
        </div>
    </div>
</ng-template>
 -->


<!--
<div>
    <mat-paginator #paginator [length]="orderList.length" [pageIndex]="0" [pageSize]="10">
    </mat-paginator>


    <table mat-table [dataSource]="dataSource" matSort>

        <ng-container matColumnDef="No">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
            <td mat-cell *matCellDef="let element; let idx = index">{{ idx+1 }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>address</th>
            <td mat-cell *matCellDef="let element">{{ element.address }}</td>
        </ng-container>

        <ng-container matColumnDef="contaction">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>contaction</th>
            <td mat-cell *matCellDef="let element">
                <div *ngFor="let num of element.contaction">
                    <span>{{ num.type }}：{{ num.numbers }}</span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="cartList">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>cartList</th>
            <td mat-cell *matCellDef="let element">
                <div *ngFor="let list of element.cartList" class="cart-item">
                    <span>{{ list.name }}</span>
                    <span>{{ list.price | currency}}</span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="dateTime">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>dateTime</th>
            <td mat-cell *matCellDef="let element">{{ element.dateTime | date: 'yyyy/MM/dd:HH:mm:ss' }}</td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

</div>
 -->
